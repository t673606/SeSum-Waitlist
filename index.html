<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>SeSum – Finn billigste butikk for handlelisten din</title>
  <link rel="icon" href="/favicon.ico" sizes="any">
  <meta name="description" content="SeSum sammenligner totalprisen på handlelisten din på tvers av alle norske dagligvarekjeder. Finn alltid billigste butikk." />
  <meta name="theme-color" content="#ffffff" />

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,500&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    * { -webkit-tap-highlight-color: transparent; }
    body { 
      font-family: 'DM Sans', sans-serif; 
      background: #fafafa;
      -webkit-font-smoothing: antialiased;
    }
    
    .text-sesum { color: #2d6a4f; }
    .bg-sesum { background-color: #2d6a4f; }
    .bg-sesum:hover { background-color: #1b4332; }
    .border-sesum { border-color: #2d6a4f; }
    
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    .animate-float { animation: float 5s ease-in-out infinite; }
    
    @keyframes fade-up {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-up { animation: fade-up 0.6s ease-out forwards; }
    .delay-100 { animation-delay: 0.1s; opacity: 0; }
    .delay-200 { animation-delay: 0.2s; opacity: 0; }
    .delay-300 { animation-delay: 0.3s; opacity: 0; }
    .delay-400 { animation-delay: 0.4s; opacity: 0; }
    .delay-500 { animation-delay: 0.5s; opacity: 0; }
    
    .gradient-blur {
      position: absolute;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.4;
      pointer-events: none;
    }
    
    input:focus { outline: none; }
    
    .store-logo {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      object-fit: contain;
      background: #f8f8f8;
      padding: 4px;
    }
    
    .app-image-container {
      -webkit-mask-image: radial-gradient(ellipse 85% 80% at center, black 50%, transparent 100%);
      mask-image: radial-gradient(ellipse 85% 80% at center, black 50%, transparent 100%);
    }
  </style>
</head>

<body class="min-h-screen overflow-x-hidden">
  <!-- Gradient blurs -->
  <div class="gradient-blur bg-emerald-200 top-0 right-0 -translate-y-1/2 translate-x-1/3 fixed"></div>
  <div class="gradient-blur bg-teal-100 bottom-1/4 left-0 -translate-x-1/2 fixed"></div>

  <!-- Nav -->
  <nav class="px-5 py-5 flex items-center justify-center relative z-10">
    <div class="flex items-center gap-2">
      <img src="Untitled.png" alt="SeSum logo" class="h-9 w-auto rounded-xl" />
      <span class="text-xl font-bold tracking-tight text-slate-900">SeSum</span>
    </div>
  </nav>

  <main class="px-5 pt-4 pb-8 relative z-10">
    <!-- Badge -->
    <div class="flex justify-center mb-4 animate-fade-up">
      <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white border border-slate-200/60 shadow-sm">
        <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div>
        <span id="spots-left" class="text-[11px] font-medium text-slate-600">Laster...</span>
      </div>
    </div>

    <!-- Headline -->
    <div class="text-center max-w-sm mx-auto mb-6">
      <h1 class="text-[1.85rem] sm:text-4xl leading-[1.12] font-bold text-slate-900 mb-3 animate-fade-up delay-100">
        Finn <span class="text-sesum">billigste butikk</span><br/>
        for handlelisten din
      </h1>
      <p class="text-sm sm:text-base text-slate-500 leading-relaxed animate-fade-up delay-200">
        Legg inn varene. SeSum regner totalpris i alle kjeder – og viser hvor du sparer mest
      </p>
    </div>

    <!-- Form -->
    <div class="max-w-sm mx-auto mb-8 animate-fade-up delay-300">
      <div id="waitlist-form">
        <form class="flex gap-2" onsubmit="handleWaitlistSubmit(event)">
          <input
            type="email"
            id="email-input"
            required
            placeholder="E-post"
            autocomplete="email"
            class="flex-1 min-w-0 px-4 py-3.5 rounded-xl bg-white border border-slate-200 focus:border-sesum focus:ring-2 focus:ring-emerald-100 transition-all text-sm"
          />
          <button
            type="submit"
            id="submit-button"
            class="bg-sesum text-white px-5 py-3.5 rounded-xl font-semibold text-sm transition-all active:scale-[0.97] disabled:opacity-50 whitespace-nowrap"
          >
            Få tilgang
          </button>
        </form>

        <p id="form-error" class="text-xs text-red-500 text-center mt-2 hidden"></p>

        <p class="text-[10px] text-slate-400 text-center mt-3 leading-relaxed">
          Null spam. Vi sender e-post når det er din tur.
        </p>
      </div>

      <div id="success-message" class="hidden">
        <div class="p-5 bg-white rounded-2xl border border-emerald-100 text-center">
          <div class="w-12 h-12 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-3">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#2d6a4f" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="20 6 9 17 4 12"></polyline>
            </svg>
          </div>
          <h3 class="text-base font-bold text-slate-900 mb-1">Du er på listen!</h3>
          <p class="text-xs text-slate-500">Vi sender e-post når det er din tur.</p>
        </div>
      </div>
    </div>

    <!-- App image -->
    <div class="flex justify-center mb-6 animate-fade-up delay-400 overflow-hidden">
      <div class="relative animate-float app-image-container">
        <img 
          src="nyeste mockup.png" 
          alt="SeSum app – butikker sortert etter totalpris på handlelisten din" 
          class="w-[85vw] sm:w-[70vw] md:w-[50vw] max-w-md h-auto"
        />
        
      </div>
    </div>
  </main>

  <!-- Value proposition -->
  <section class="px-5 pb-12 relative z-10 animate-fade-up delay-500">
    <div class="max-w-md mx-auto">
      <div class="bg-white rounded-2xl border border-slate-100 p-5 mb-4">
        <h2 class="text-base font-bold text-slate-900 mb-4 text-center">Hva gjør SeSum?</h2>
        
        <div class="space-y-4">
          <div class="flex gap-3">
            <div class="w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center flex-shrink-0">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#2d6a4f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"></path>
                <path d="M12 18V6"></path>
              </svg>
            </div>
            <div class="pt-1">
              <p class="text-sm font-semibold text-slate-800">Sammenligner totalpris</p>
              <p class="text-xs text-slate-500 mt-1">Ikke bare enkeltpriser. Vi regner ut hva hele handlelisten koster hos hver kjede.</p>
            </div>
          </div>
          
          <div class="flex gap-3">
            <div class="w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center flex-shrink-0">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#2d6a4f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"></path>
                <path d="m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9"></path>
                <path d="M12 3v6"></path>
              </svg>
            </div>
            <div class="pt-1">
              <p class="text-sm font-semibold text-slate-800">Alle dagligvarekjeder</p>
              <p class="text-xs text-slate-500 mt-1">KIWI, REMA 1000, Coop, SPAR, Meny, Joker og flere. Oppdaterte priser daglig.</p>
            </div>
          </div>
          
          <div class="flex gap-3">
            <div class="w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center flex-shrink-0">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#2d6a4f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect width="18" height="18" x="3" y="4" rx="2" ry="2"></rect>
                <line x1="16" x2="16" y1="2" y2="6"></line>
                <line x1="8" x2="8" y1="2" y2="6"></line>
                <line x1="3" x2="21" y1="10" y2="10"></line>
                <path d="m9 16 2 2 4-4"></path>
              </svg>
            </div>
            <div class="pt-1">
              <p class="text-sm font-semibold text-slate-800">Ukens tilbud automatisk</p>
              <p class="text-xs text-slate-500 mt-1">Vi henter inn tilbudene fra alle butikkenes reklameaviser, så du ikke går glipp av noe.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How it works -->
  <section class="px-5 pb-12 relative z-10">
    <div class="max-w-md mx-auto">
      <h2 class="text-lg font-bold text-slate-900 mb-5 text-center">Slik funker det</h2>
      
      <div class="space-y-3">
        <div class="flex items-center gap-4 bg-white rounded-2xl p-4 border border-slate-100">
          <div class="w-8 h-8 bg-sesum/10 rounded-full flex items-center justify-center flex-shrink-0">
            <span class="text-sm font-bold text-sesum">1</span>
          </div>
          <div>
            <p class="text-sm text-slate-700"><span class="font-semibold">Legg inn varene</span> du skal handle</p>
          </div>
        </div>
        
        <div class="flex items-center gap-4 bg-white rounded-2xl p-4 border border-slate-100">
          <div class="w-8 h-8 bg-sesum/10 rounded-full flex items-center justify-center flex-shrink-0">
            <span class="text-sm font-bold text-sesum">2</span>
          </div>
          <div>
            <p class="text-sm text-slate-700"><span class="font-semibold">Se totalprisen</span> hos alle kjeder – sortert</p>
          </div>
        </div>
        
        <div class="flex items-center gap-4 bg-white rounded-2xl p-4 border border-slate-100">
          <div class="w-8 h-8 bg-sesum/10 rounded-full flex items-center justify-center flex-shrink-0">
            <span class="text-sm font-bold text-sesum">3</span>
          </div>
          <div>
            <p class="text-sm text-slate-700"><span class="font-semibold">Handle smart</span> og spar penger hver gang</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Stores section -->
  <section class="px-5 pb-12 relative z-10">
    <div class="max-w-md mx-auto">
      <div class="bg-white rounded-2xl border border-slate-100 p-5">
        <p class="text-xs text-slate-500 text-center mb-4">Sammenligner priser fra</p>
        <div class="flex flex-wrap justify-center gap-3">
          <div class="px-3 py-2 bg-slate-50 rounded-lg text-xs font-medium text-slate-700">KIWI</div>
          <div class="px-3 py-2 bg-slate-50 rounded-lg text-xs font-medium text-slate-700">REMA 1000</div>
          <div class="px-3 py-2 bg-slate-50 rounded-lg text-xs font-medium text-slate-700">Coop Extra</div>
          <div class="px-3 py-2 bg-slate-50 rounded-lg text-xs font-medium text-slate-700">SPAR</div>
          <div class="px-3 py-2 bg-slate-50 rounded-lg text-xs font-medium text-slate-700">Meny</div>
          <div class="px-3 py-2 bg-slate-50 rounded-lg text-xs font-medium text-slate-700">Joker</div>
          <div class="px-3 py-2 bg-slate-50 rounded-lg text-xs font-medium text-slate-700">Bunnpris</div>
          <div class="px-3 py-2 bg-slate-50 rounded-lg text-xs font-medium text-slate-700">+ flere</div>
        </div>
      </div>
    </div>
  </section>

  <!-- App features -->
  <section class="px-5 pb-12 relative z-10">
    <div class="max-w-md mx-auto">
      <h2 class="text-lg font-bold text-slate-900 mb-5 text-center">Hva kan du gjøre?</h2>
      
      <div class="grid grid-cols-2 gap-3">
        <div class="bg-white rounded-2xl p-4 border border-slate-100 text-center">
          <div class="w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center mx-auto mb-2">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#2d6a4f" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.3-4.3"></path>
            </svg>
          </div>
          <p class="text-xs font-semibold text-slate-700">Søk opp varer</p>
          <p class="text-[10px] text-slate-400 mt-1">Se priser og tilbud på tusenvis av varer</p>
        </div>
        
        <div class="bg-white rounded-2xl p-4 border border-slate-100 text-center">
          <div class="w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center mx-auto mb-2">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
              <circle cx="12" cy="13" r="4"></circle>
            </svg>
          </div>
          <p class="text-xs font-semibold text-slate-700">Skann kvittering</p>
          <p class="text-[10px] text-slate-400 mt-1">Se hvor mye du kunne spart etterpå</p>
        </div>
        
        <div class="bg-white rounded-2xl p-4 border border-slate-100 text-center">
          <div class="w-10 h-10 bg-amber-50 rounded-xl flex items-center justify-center mx-auto mb-2">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#d97706" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
              <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path>
            </svg>
          </div>
          <p class="text-xs font-semibold text-slate-700">Prisvarsel</p>
          <p class="text-[10px] text-slate-400 mt-1">Få beskjed når favorittene blir billigere</p>
        </div>
        
        <div class="bg-white rounded-2xl p-4 border border-slate-100 text-center">
          <div class="w-10 h-10 bg-rose-50 rounded-xl flex items-center justify-center mx-auto mb-2">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#e11d48" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path>
            </svg>
          </div>
          <p class="text-xs font-semibold text-slate-700">Favoritter</p>
          <p class="text-[10px] text-slate-400 mt-1">Lagre varer du kjøper ofte</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="px-5 pb-16 relative z-10">
    <div class="max-w-md mx-auto">
      <h2 class="text-lg font-bold text-slate-900 mb-5 text-center">Spørsmål og svar</h2>
      
      <div class="space-y-3">
        <details class="bg-white rounded-2xl border border-slate-100 overflow-hidden group">
          <summary class="p-4 cursor-pointer flex items-center justify-between text-sm font-medium text-slate-800 hover:bg-slate-50">
            Er det gratis?
            <svg class="w-4 h-4 text-slate-400 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <div class="px-4 pt-2 pb-4 text-xs text-slate-600">
            Ja, SeSum er helt gratis å bruke. Vi har ingen planer om å ta betalt for grunnfunksjonene.
          </div>
        </details>
        
        <details class="bg-white rounded-2xl border border-slate-100 overflow-hidden group">
          <summary class="p-4 cursor-pointer flex items-center justify-between text-sm font-medium text-slate-800 hover:bg-slate-50">
            Hvor ofte oppdateres prisene?
            <svg class="w-4 h-4 text-slate-400 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <div class="px-4 pt-2 pb-4 text-xs text-slate-600">
            Prisene kommer fra brukere som skanner kvitteringene sine – ekte priser fra faktiske butikker. Vi henter også inn tilbud fra butikkenes reklameaviser.
          </div>
        </details>
        
        <details class="bg-white rounded-2xl border border-slate-100 overflow-hidden group">
          <summary class="p-4 cursor-pointer flex items-center justify-between text-sm font-medium text-slate-800 hover:bg-slate-50">
            Hvilke butikker støttes?
            <svg class="w-4 h-4 text-slate-400 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <div class="px-4 pt-2 pb-4 text-xs text-slate-600">
            Vi støtter de fleste norske dagligvarekjeder: KIWI, REMA 1000, Coop (Extra, Prix, Mega, Obs), SPAR, Meny, Joker, Bunnpris og flere. Vi jobber kontinuerlig med å legge til flere.
          </div>
        </details>
        
        <details class="bg-white rounded-2xl border border-slate-100 overflow-hidden group">
          <summary class="p-4 cursor-pointer flex items-center justify-between text-sm font-medium text-slate-800 hover:bg-slate-50">
            Kommer det en Android-versjon?
            <svg class="w-4 h-4 text-slate-400 transition-transform group-open:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </summary>
          <div class="px-4 pt-2 pb-4 text-xs text-slate-600">
            Vi lanserer først på iPhone. Android-versjon er planlagt, men vi har ikke en konkret dato ennå. Meld deg på ventelisten så holder vi deg oppdatert.
          </div>
        </details>
      </div>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="px-5 pb-20 relative z-10">
    <div class="max-w-sm mx-auto text-center">
      <p class="text-sm text-slate-600 mb-4">Klar til å spare penger på mat?</p>
      <a href="#" onclick="document.getElementById('email-input').focus(); window.scrollTo({top: 0, behavior: 'smooth'}); return false;" 
         class="inline-block bg-sesum text-white px-6 py-3 rounded-xl font-semibold text-sm transition-all active:scale-[0.97]">
        Få tidlig tilgang
      </a>
    </div>
  </section>

  <!-- Footer -->
  <footer class="px-5 pb-8 relative z-10">
    <div class="max-w-md mx-auto text-center">
      <p class="text-[10px] text-slate-400">
        © 2026 SeSum. Laget i Norge.
      </p>
    </div>
  </footer>

  <script>
    const SUPABASE_URL = 'https://glpowwptzbokwtkbsnko.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdscG93d3B0emJva3d0a2JzbmtvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMyMDY1MDUsImV4cCI6MjA3ODc4MjUwNX0.NCuL94b5hbGybvYHhGhk3ePpYfNK3KwaONRmDAr0MvM';

    let supabaseClient;
    let initAttempts = 0;
    const MAX_INIT_ATTEMPTS = 50; // Max 5 seconds (50 * 100ms)

    // Wait for DOM and Supabase to be ready
    function initSupabase() {
      if (typeof supabase !== 'undefined') {
        supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        updateSpotsLeft();
      } else {
        initAttempts++;
        if (initAttempts < MAX_INIT_ATTEMPTS) {
          // Retry after a short delay if Supabase isn't loaded yet
          setTimeout(initSupabase, 100);
        } else {
          // Fallback if Supabase fails to load
          console.error('Supabase library failed to load after multiple attempts');
          const spotsElement = document.getElementById('spots-left');
          if (spotsElement) spotsElement.innerText = 'Begrenset beta';
        }
      }
    }

    // Initialize when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initSupabase);
    } else {
      initSupabase();
    }

    async function handleWaitlistSubmit(event) {
      event.preventDefault();
      const emailInput = document.getElementById('email-input');
      const submitButton = document.getElementById('submit-button');
      const errorElement = document.getElementById('form-error');
      const email = emailInput.value.trim();

      submitButton.disabled = true;
      submitButton.innerText = 'Sender...';
      errorElement.classList.add('hidden');

      try {
        const { error } = await supabaseClient
          .from('waitlist')
          .insert([{ email }]);

        if (error) {
          if (error.code === '23505') {
            showSuccess();
          } else {
            throw error;
          }
        } else {
          showSuccess();
        }
      } catch (error) {
        console.error('Error:', error);
        errorElement.innerText = 'Noe gikk galt. Prøv igjen.';
        errorElement.classList.remove('hidden');
        submitButton.disabled = false;
        submitButton.innerText = 'Få tilgang';
      }
    }

    function showSuccess() {
      document.getElementById('waitlist-form').classList.add('hidden');
      document.getElementById('success-message').classList.remove('hidden');
      updateSpotsLeft();
    }

    async function updateSpotsLeft() {
      const spotsElement = document.getElementById('spots-left');
      if (!spotsElement) {
        console.error('spots-left element not found');
        return;
      }

      // Use direct fetch which is more reliable for getting count
      try {
        const response = await fetch(
          `${SUPABASE_URL}/rest/v1/waitlist?select=id&limit=1`,
          {
            headers: {
              'apikey': SUPABASE_ANON_KEY,
              'Prefer': 'count=exact'
            }
          }
        );

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        const contentRange = response.headers.get('content-range');
        console.log('Content-Range header:', contentRange);
        
        if (contentRange) {
          // Content-Range format: "*/count" or "0-0/count"
          const match = contentRange.match(/\/(\d+)$/);
          if (match) {
            const count = parseInt(match[1], 10);
            const spotsLeft = Math.max(0, 500 - count);
            spotsElement.innerText = `${spotsLeft} plasser igjen i beta`;
            return;
          }
        }

        // Fallback: try Supabase client
        if (supabaseClient) {
          const { count, error } = await supabaseClient
            .from('waitlist')
            .select('id', { count: 'exact', head: true });

          if (!error && count !== null && count !== undefined) {
            const spotsLeft = Math.max(0, 500 - count);
            spotsElement.innerText = `${spotsLeft} plasser igjen i beta`;
            return;
          }
        }

        // Final fallback
        spotsElement.innerText = 'Begrenset beta';
      } catch (e) {
        console.error('Could not fetch waitlist count:', e);
        spotsElement.innerText = 'Begrenset beta';
      }
    }
  </script>

  <style>
    @keyframes bounce-slow {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }
    .animate-bounce-slow {
      animation: bounce-slow 3s ease-in-out infinite;
    }
  </style>
</body>
</html>
